@media print {
  @page {
    size: A4 portrait;
    margin: 0;
  }

  html,
  body {
    width: 210mm;
    margin: 0;
    padding: 0;
    background: white;
    /* Do NOT set a fixed height â€“ it constrains the entire document to one page */
  }

  /* Hide UI controls */
  .config-panel,
  .toolbar,
  .no-print {
    display: none !important;
  }

  .report-container {
    width: 210mm;
    margin: 0;
    padding: 0;
    box-shadow: none;
  }

  .report-page {
    width: 210mm;
    height: 297mm;
    padding: 12mm 15mm 18mm;
    overflow: hidden;
    position: relative;
    box-shadow: none;
    page-break-after: always;
    break-after: page;
    page-break-inside: avoid;
    break-inside: avoid;
  }

  .report-page:last-child {
    page-break-after: auto;
    break-after: auto;
  }

  /* Ensure trend charts print as SVG */
  .recharts-wrapper {
    overflow: visible !important;
  }

  /* Issues summary table: repeat header on new pages */
  .issues-summary-table thead {
    display: table-header-group;
  }

  .issues-summary-table tbody {
    display: table-row-group;
  }

  .issues-summary-table tr {
    page-break-inside: avoid;
  }

  /* Issues table (legacy): repeat header on new pages */
  .issues-table thead {
    display: table-header-group;
  }

  .issues-table tbody {
    display: table-row-group;
  }

  .issues-table tr {
    page-break-inside: avoid;
  }

  /* Rule detail: avoid breaking inside file rows */
  .rule-detail__file-row {
    page-break-inside: avoid;
  }

  /* Rule info box: keep together */
  .rule-info-box {
    page-break-inside: avoid;
  }
}
